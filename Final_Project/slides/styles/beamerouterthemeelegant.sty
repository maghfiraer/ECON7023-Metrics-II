% Copyright 2007 by Till Tantau
% Copyright 2015 by Vedran Mileti\'c, Joseph Wright
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\setbeamercolor{section in head/foot}{parent=palette tertiary}
\setbeamercolor{subsection in head/foot}{parent=palette secondary}


\newif\ifbeamer@theme@subsection
\beamer@theme@subsectiontrue

%\DeclareOptionBeamer{footline}{\csname beamer@theme@footline@#1\endcsname}
\DeclareOptionBeamer{subsection}[true]{\csname beamer@theme@subsection#1\endcsname}
\ProcessOptionsBeamer


\mode<presentation>

% Footline
\defbeamertemplate*{footline}{miniframes theme}
{%
  \begin{beamercolorbox}[ht=1ex,dp=10ex]{section in head/foot}
    \begin{minipage}[t][0pt]{\paperwidth}
    \insertnavigation{\paperwidth}\hfill\hspace{-0.2cm}
    \end{minipage}
  \end{beamercolorbox}%
}






%-------- Pasted form different
% Set Margins around frame title
\setbeamertemplate{frametitle}{\vspace{1cm} \color{primary}\insertframetitle \par\vskip1pt \color{secondary}{\small\insertframesubtitle} \vspace*{0.5cm}}

% Automatic Frame Titles
\makeatletter
  \CheckCommand*\beamer@checkframetitle{%
    \@ifnextchar\bgroup\beamer@inlineframetitle{}}
  \renewcommand*\beamer@checkframetitle{%
    \global\let\beamer@frametitle\relax\@ifnextchar%
    \bgroup\beamer@inlineframetitle{}}
\makeatother

\addtobeamertemplate{frametitle}{
  \ifx\insertframetitle\empty
    \ifx\insertframesubtitle\empty
      \ifx\insertsubsection\empty 
        \frametitle{\insertsectionhead}
      \else
        \frametitle{\insertsectionhead}\framesubtitle{\insertsubsectionhead}
      \fi  
    \else
        \frametitle{\insertsectionhead} %If frame title is empty but subtitle is specified by user, insert section as frametitle   
    \fi  
    \else       
    \fi
 }{}

 %\setbeamertemplate{framesubtitle}{\color{primary}\insertframesubtitle\par\vskip6pt \vspace*{0.5cm}}

 % Footer

% Set Margins around footer



%\setbeamertemplate{footline}{
%\hspace*{10mm}
%{\scshape \insertshortauthor \hfill \insertshorttitle \hfill \insertframenumber{} / %\inserttotalframenumber}
%\hspace*{10mm} 
%\vspace*{0.6cm}
%}

%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% Navigation

\mode
<all>